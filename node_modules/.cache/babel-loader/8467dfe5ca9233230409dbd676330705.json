{"ast":null,"code":"import _regeneratorRuntime from\"/Users/arisahyper/Desktop/react_todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/arisahyper/Desktop/react_todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/arisahyper/Desktop/react_todo/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import styles from\"./Login.module.css\";import{Button,FormControl,TextField,Typography}from\"@material-ui/core\";import{auth}from\"./firebase\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Login=function Login(props){var _useState=useState(true),_useState2=_slicedToArray(_useState,2),isLogin=_useState2[0],setIsLogin=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),email=_useState4[0],setEmail=_useState4[1];var _useState5=useState(\"\"),_useState6=_slicedToArray(_useState5,2),password=_useState6[0],setPassword=_useState6[1];useEffect(function(){var unSub=auth.onAuthStateChanged(function(user){user&&props.history.push(\"/\");});return function(){return unSub();};},[props.history]);return/*#__PURE__*/_jsxs(\"div\",{className:styles.login__root,children:[/*#__PURE__*/_jsx(\"h1\",{children:isLogin?\"Login\":\"Register\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsx(TextField,{InputLabelProps:{shrink:true},name:\"email\",label:\"E-mail\",value:email,onChange:function onChange(e){setEmail(e.target.value);}})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(FormControl,{children:/*#__PURE__*/_jsx(TextField,{InputLabelProps:{shrink:true},name:\"password\",label:\"Password\",value:password,onChange:function onChange(e){setPassword(e.target.value);}})}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",color:\"primary\",size:\"small\",onClick:isLogin?/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return auth.signInWithEmailAndPassword(email,password);case 3:props.history.push(\"/\");_context.next=9;break;case 6:_context.prev=6;_context.t0=_context[\"catch\"](0);alert(_context.t0.message);case 9:case\"end\":return _context.stop();}}},_callee,null,[[0,6]]);})):/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(){return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return auth.createUserWithEmailAndPassword(email,password);case 3:props.history.push(\"/\");_context2.next=9;break;case 6:_context2.prev=6;_context2.t0=_context2[\"catch\"](0);alert(_context2.t0.massage);case 9:case\"end\":return _context2.stop();}}},_callee2,null,[[0,6]]);})),children:isLogin?\"Login\":\"register\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Typography,{align:\"center\",children:/*#__PURE__*/_jsx(\"span\",{onClick:function onClick(){return setIsLogin(!Login);},children:isLogin?\"Create new account ?\":\"Back to login\"})})]});};export default Login;","map":{"version":3,"sources":["/Users/arisahyper/Desktop/react_todo/src/Login.tsx"],"names":["React","useState","useEffect","styles","Button","FormControl","TextField","Typography","auth","Login","props","isLogin","setIsLogin","email","setEmail","password","setPassword","unSub","onAuthStateChanged","user","history","push","login__root","shrink","e","target","value","signInWithEmailAndPassword","alert","message","createUserWithEmailAndPassword","massage"],"mappings":"8cAAA,MAAOA,CAAAA,KAAP,EAAcC,QAAd,CAAuBC,SAAvB,KAAuC,OAAvC,CACA,MAAOC,CAAAA,MAAP,KAAmB,oBAAnB,CAEA,OAASC,MAAT,CAAiBC,WAAjB,CAA8BC,SAA9B,CAAyCC,UAAzC,KAA2D,mBAA3D,CACA,OAAQC,IAAR,KAAmB,YAAnB,C,wFAEA,GAAMC,CAAAA,KAAgB,CAAG,QAAnBA,CAAAA,KAAmB,CAACC,KAAD,CAAiB,eACRT,QAAQ,CAAC,IAAD,CADA,wCAC/BU,OAD+B,eACtBC,UADsB,8BAEZX,QAAQ,CAAC,EAAD,CAFI,yCAE/BY,KAF+B,eAExBC,QAFwB,8BAGNb,QAAQ,CAAC,EAAD,CAHF,yCAG/Bc,QAH+B,eAGrBC,WAHqB,eAKtCd,SAAS,CAAC,UAAM,CACZ,GAAMe,CAAAA,KAAK,CAAGT,IAAI,CAACU,kBAAL,CAAwB,SAACC,IAAD,CAAU,CAC5CA,IAAI,EAAIT,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,GAAnB,CAAR,CACH,CAFa,CAAd,CAGA,MAAO,kBAAMJ,CAAAA,KAAK,EAAX,EAAP,CACH,CALQ,CAKN,CAACP,KAAK,CAACU,OAAP,CALM,CAAT,CAOA,mBACI,aAAK,SAAS,CAAIjB,MAAM,CAACmB,WAAzB,wBACI,oBACKX,OAAO,CAAG,OAAH,CAAa,UADzB,EADJ,cAII,aAJJ,cAKI,KAAC,WAAD,wBACI,KAAC,SAAD,EACA,eAAe,CAAI,CACfY,MAAM,CAAG,IADM,CADnB,CAIA,IAAI,CAAG,OAJP,CAKA,KAAK,CAAG,QALR,CAMA,KAAK,CAAIV,KANT,CAOA,QAAQ,CACJ,kBAACW,CAAD,CAAmE,CAC/DV,QAAQ,CAACU,CAAC,CAACC,MAAF,CAASC,KAAV,CAAR,CACH,CAVL,EADJ,EALJ,cAqBI,aArBJ,cAsBI,KAAC,WAAD,wBACI,KAAC,SAAD,EACI,eAAe,CAAI,CACfH,MAAM,CAAG,IADM,CADvB,CAII,IAAI,CAAG,UAJX,CAKI,KAAK,CAAG,UALZ,CAMI,KAAK,CAAIR,QANb,CAOI,QAAQ,CACJ,kBAACS,CAAD,CAAmE,CAC/DR,WAAW,CAACQ,CAAC,CAACC,MAAF,CAASC,KAAV,CAAX,CACH,CAVT,EADJ,EAtBJ,cAsCI,aAtCJ,cAuCI,KAAC,MAAD,EACA,OAAO,CAAG,WADV,CAEA,KAAK,CAAG,SAFR,CAGA,IAAI,CAAG,OAHP,CAIA,OAAO,CACHf,OAAO,sEAAG,yKAEIH,CAAAA,IAAI,CAACmB,0BAAL,CAAgCd,KAAhC,CAAuCE,QAAvC,CAFJ,QAGFL,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EAHE,8EAKFO,KAAK,CAAC,YAAMC,OAAP,CAAL,CALE,mEAAH,wEAOH,gLAEUrB,CAAAA,IAAI,CAACsB,8BAAL,CAAoCjB,KAApC,CAA2CE,QAA3C,CAFV,QAGIL,KAAK,CAACU,OAAN,CAAcC,IAAd,CAAmB,GAAnB,EAHJ,kFAKIO,KAAK,CAAC,aAAMG,OAAP,CAAL,CALJ,qEAPG,EALX,UAqBKpB,OAAO,CAAG,OAAH,CAAa,UArBzB,EAvCJ,cA8DI,aA9DJ,cAiEI,KAAC,UAAD,EAAY,KAAK,CAAG,QAApB,uBACI,aAAM,OAAO,CAAI,yBAAMC,CAAAA,UAAU,CAAC,CAACH,KAAF,CAAhB,EAAjB,UACKE,OAAO,CAAG,sBAAH,CAA4B,eADxC,EADJ,EAjEJ,GADJ,CAyEH,CArFD,CAuFA,cAAeF,CAAAA,KAAf","sourcesContent":["import React,{useState,useEffect} from 'react'\nimport styles from \"./Login.module.css\";\n\nimport { Button, FormControl, TextField, Typography } from \"@material-ui/core\";\nimport {auth} from \"./firebase\";\n\nconst Login : React.FC = (props : any) => {\n    const [isLogin, setIsLogin] = useState(true);\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    useEffect(() => {\n        const unSub = auth.onAuthStateChanged((user) => {\n            user && props.history.push(\"/\");\n        })\n        return () => unSub();\n    }, [props.history])\n    \n    return (\n        <div className = {styles.login__root}>\n            <h1>\n                {isLogin ? \"Login\" : \"Register\"}\n            </h1>\n            <br/>\n            <FormControl>\n                <TextField\n                InputLabelProps = {{\n                    shrink : true,\n                }}\n                name = \"email\"\n                label = \"E-mail\"\n                value = {email}\n                onChange = {\n                    (e : React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n                        setEmail(e.target.value);\n                    }\n                }\n                    \n                />\n            </FormControl>\n            <br/>\n            <FormControl>\n                <TextField\n                    InputLabelProps = {{\n                        shrink : true,\n                    }}\n                    name = \"password\"\n                    label = \"Password\"\n                    value = {password}\n                    onChange = {\n                        (e : React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n                            setPassword(e.target.value);\n                        }\n                    }\n                />\n\n            </FormControl>\n            <br/>\n            <Button \n            variant = \"contained\" \n            color = \"primary\"\n            size = \"small\"\n            onClick = {\n                isLogin ? async () => {\n                    try {\n                        await auth.signInWithEmailAndPassword(email, password);\n                        props.history.push(\"/\")\n                    } catch (error){\n                        alert(error.message)\n                    }\n                } : async () => {\n                    try {\n                        await auth.createUserWithEmailAndPassword(email, password);\n                        props.history.push(\"/\")\n                    } catch (error) {\n                        alert(error.massage)\n                    }\n                }\n            }>\n                {isLogin ? \"Login\" : \"register\" }\n            </Button>\n            <br/>\n\n\n            <Typography align = \"center\">\n                <span onClick = {() => setIsLogin(!Login)}>\n                    {isLogin ? \"Create new account ?\" : \"Back to login\"}\n                </span>\n            </Typography>\n        </div>\n    )\n}\n\nexport default Login\n"]},"metadata":{},"sourceType":"module"}