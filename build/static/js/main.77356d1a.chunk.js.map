{"version":3,"sources":["firebase.ts","TaskItem.tsx","App.tsx","reportWebVitals.ts","Login.tsx","index.tsx","App.module.css","TaskItem.module.css","Login.module.css"],"names":["firebaseApp","firebase","initializeApp","apiKey","process","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","apiId","db","firestore","auth","TaskItem","props","useState","title","setTitle","ListItem","Grid","container","justify","TextField","InputLabelProps","shrink","label","value","onChange","e","target","className","styles","taskitem__icon","onClick","collection","doc","id","set","delete","useStyles","makeStyles","field","marginTop","marginBottom","list","margin","width","App","tasks","setTasks","input","setInput","classes","useEffect","unSub","onAuthStateChanged","user","history","push","onSnapshot","snapshot","docs","map","data","app__root","app__logout","a","signOut","alert","massage","FormControl","app__icon","disabled","add","List","task","reportWebVitals","onPerfEntry","Function","then","getCLS","getFID","getFCP","getLCP","getTTFB","Login","isLogin","setIsLogin","email","setEmail","password","setPassword","login__root","name","Button","variant","color","size","signInWithEmailAndPassword","message","createUserWithEmailAndPassword","Typography","align","ReactDOM","render","StrictMode","exact","path","component","document","getElementById","module","exports"],"mappings":"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","file":"static/js/main.77356d1a.chunk.js","sourcesContent":["// import * as firebase from \"firebase/app\"; これだとエラー\nimport firebase from \"firebase/app\";\nimport \"firebase/app\";\n// データベース\nimport \"firebase/firestore\";\n// 認証\nimport \"firebase/auth\";\n\n\nconst firebaseApp = firebase.initializeApp({\n    apiKey: process.env.REACT_APP_FIREBASE_APIKEY,\n    authDomain: process.env.REACT_APP_FIREBASE_DOMAIN,\n    databaseURL: process.env.REACT_APP_FIREBASE_DATABASE,\n    projectId: process.env.REACT_APP_FIREBASE_PROJECT_ID,\n    storageBucket: process.env.REACT_APP_FIREBASE_STORAGE_BUCKET,\n    messagingSenderId: process.env.REACT_APP_FIREBASE_SENDER_ID,\n    apiId: process.env.REACT_APP_FIREBASE_APP_ID,\n});\n\nexport const db = firebaseApp.firestore();\nexport const auth = firebaseApp.auth();\n","import React, {useState} from 'react';\nimport styles from \"./TaskItem.module.css\";\n// import firebase from \"firebase/app\";\nimport {ListItem, TextField, Grid} from \"@material-ui/core\";\nimport DeleteOutlineOutlinedIcon from \"@material-ui/icons/DeleteOutlineOutlined\";\nimport EditOutlineIcon from \"@material-ui/icons/EditOutlined\";\nimport {db} from \"./firebase\";\n\n\ninterface Props {\n    id : string;\n    title : string;\n}\n\n\n\nconst TaskItem : React.FC<Props> = (props) => {\n    const [title,setTitle] = useState(props.title)\n\n    const editTask = () => {\n        db.collection(\"tasks\").doc(props.id).set({title: title},)\n    }\n\n    const deleteTask = () => {\n        db.collection(\"tasks\").doc(props.id).delete();\n    }\n\n    return (\n            <ListItem>\n                <h2>{props.title}</h2>\n                <Grid container justify = \"flex-end\">\n                    <TextField\n                    InputLabelProps = {{\n                        shrink: true,\n                    }}\n\n                    label = \"Edit Task\"\n                    value = {title}\n                    onChange = {(e) => setTitle(e.target.value)}\n                    />                   \n                </Grid> \n\n                    {/* 編集削除ボタン */}\n                <button className = {styles.taskitem__icon} onClick = {editTask}>\n                    <EditOutlineIcon />\n                </button>\n                <button className = {styles.taskitem__icon} onClick = {deleteTask}>\n                    <DeleteOutlineOutlinedIcon/>\n                </button>\n\n            </ListItem>\n    );\n}\n\nexport default TaskItem\n","import { FormControl, List, TextField } from '@material-ui/core';\nimport React, { useState,useEffect } from 'react';\nimport styles from './App.module.css';\nimport { db } from \"./firebase\";\nimport AddToPhotosIcon from \"@material-ui/icons/AddToPhotos\";\nimport TaskItem from \"./TaskItem\";\nimport {makeStyles} from \"@material-ui/styles\";\n\nimport { auth } from \"./firebase\";\nimport ExitToAppIcon from \"@material-ui/icons/ExitToApp\";\n\nconst useStyles = makeStyles({\n  field: {\n    marginTop: 30,\n    marginBottom: 20,\n  },\n  list: {\n    margin: \"auto\",\n    width: \"40%\",\n  },\n});\n\n\nconst App : React.FC = (props : any) => {\n  const [tasks,setTasks] = useState([{ id : \"\", title : \"\" }])\n  const [input,setInput] = useState<string>(\"\");\n  const classes = useStyles();\n\n  useEffect(() => {\n    const unSub = auth.onAuthStateChanged((user) => {\n      !user && props.history.push(\"login\")\n    })\n    return () => unSub()\n    }, [])\n\n\n  useEffect(() => {\n    const unSub = db.collection(\"tasks\").onSnapshot((snapshot) => {\n      setTasks(\n        snapshot.docs.map((doc) => ({ id : doc.id, title : doc.data().title }))\n      );\n    });\n    return () => unSub();\n  },[]);\n\n  const newtask = (e:React.MouseEvent<HTMLButtonElement>) => {\n    db.collection(\"tasks\").add({title: input});\n    setInput(\"\");\n  }\n\n\n  return (\n    <div className = {styles.app__root} >\n      <h1>Todo App by React/Firebase</h1>\n\n      <button className = {styles.app__logout}\n      onClick = {\n        async () => {\n          try {\n            await auth.signOut()\n            props.history.push(\"login\");\n          } catch (error) {\n            alert(error.massage);\n          }\n        }\n      }>\n        <ExitToAppIcon />\n      </button>\n\n      <br/>\n      <FormControl>\n        <TextField className = {classes.field}\n        InputLabelProps = {{\n          shrink:true,\n        }}\n        label = \"New task ?\"\n        value = {input}\n        onChange = {(e : React.ChangeEvent<HTMLTextAreaElement>) => setInput(e.target.value)}\n        />\n      </FormControl>\n      <button className = {styles.app__icon}\n      disabled = {!input}\n      onClick = {newtask}>\n        <AddToPhotosIcon />\n      </button>\n\n      <List className = {classes.list}>\n        {tasks.map((task) => (\n          <TaskItem key = {task.id} id = {task.id} title = {task.title}/>\n        ))}\n      </List>\n\n    </div>\n  );\n}\n\nexport default App;\n","import { ReportHandler } from 'web-vitals';\n\nconst reportWebVitals = (onPerfEntry?: ReportHandler) => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React,{useState,useEffect} from 'react'\nimport styles from \"./Login.module.css\";\n\nimport { Button, FormControl, TextField, Typography } from \"@material-ui/core\";\nimport {auth} from \"./firebase\";\n\nconst Login : React.FC = (props : any) => {\n    const [isLogin, setIsLogin] = useState(true);\n    const [email, setEmail] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n\n    useEffect(() => {\n        const unSub = auth.onAuthStateChanged((user) => {\n            user && props.history.push(\"/\");\n        })\n        return () => unSub();\n    }, [props.history])\n    \n    return (\n        <div className = {styles.login__root}>\n            <h1>\n                {isLogin ? \"Login\" : \"Register\"}\n            </h1>\n            <br/>\n            <FormControl>\n                <TextField\n                InputLabelProps = {{\n                    shrink : true,\n                }}\n                name = \"email\"\n                label = \"E-mail\"\n                value = {email}\n                onChange = {\n                    (e : React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n                        setEmail(e.target.value);\n                    }\n                }\n                    \n                />\n            </FormControl>\n            <br/>\n            <FormControl>\n                <TextField\n                    InputLabelProps = {{\n                        shrink : true,\n                    }}\n                    name = \"password\"\n                    label = \"Password\"\n                    value = {password}\n                    onChange = {\n                        (e : React.ChangeEvent<HTMLTextAreaElement | HTMLInputElement>) => {\n                            setPassword(e.target.value);\n                        }\n                    }\n                />\n\n            </FormControl>\n            <br/>\n            <Button \n            variant = \"contained\" \n            color = \"primary\"\n            size = \"small\"\n            onClick = {\n                isLogin ? async () => {\n                    try {\n                        await auth.signInWithEmailAndPassword(email, password);\n                        props.history.push(\"/\")\n                    } catch (error){\n                        alert(error.message)\n                    }\n                } : async () => {\n                    try {\n                        await auth.createUserWithEmailAndPassword(email, password);\n                        props.history.push(\"/\")\n                    } catch (error) {\n                        alert(error.massage)\n                    }\n                }\n            }>\n                {isLogin ? \"Login\" : \"register\" }\n            </Button>\n            <br/>\n\n\n            <Typography align = \"center\">\n                <span onClick = {() => setIsLogin(!Login)}>\n                    {isLogin ? \"Create new account ?\" : \"Back to login\"}\n                </span>\n            </Typography>\n        </div>\n    )\n}\n\nexport default Login\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nimport { Route, BrowserRouter } from \"react-router-dom\";\nimport Login from \"./Login\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <BrowserRouter>\n    <>\n      <Route exact path = \"/\" component = {App} />\n      <Route exact path = \"/Login\" component = {Login} />\n    </>\n    </BrowserRouter>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app__root\":\"App_app__root__3K9aQ\",\"app__icon\":\"App_app__icon__38uiD\",\"app__logout\":\"App_app__logout__1ZKWu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"taskitem__icon\":\"TaskItem_taskitem__icon__PxCng\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"login__root\":\"Login_login__root__2zlM9\"};"],"sourceRoot":""}